<mujoco model = "hexapod">
    <compiler angle = "degree" coordinate = "local"/>
    <option timestep = "0.002" gravity = "0 0 -9.81" integrator = "RK4"/>

    <default>
      <joint damping = "0.2" armature = "0.01" limited = "true"/>
      <geom type = "capsule" density = "1000" friction = "1 0.1 0.002" margin = "0.002" condim = "3"/>
      <motor ctrllimited = "true" ctrlrange = "-1 1"/>
    </default>

  <asset>
    <texture name = "texplane" type = "2d" builtin = "checker" width = "512" height = "512" rgb1 = "0.2 0.3 0.4" rgb2 = "0.1 0.2 0.3"/>
    <material name = "matplane" texture = "texplane" texrepeat = "10 10" reflectance = "0.2"/>
    <material name = "mattorso" rgba = "0.8 0.2 0.2 1"/>
    <material name = "matleg"   rgba = "0.2 0.2 0.8 1"/>
  </asset>

	<sensor>
		<jointpos name = "qpos" joint = "leg1_yaw leg1_pitch1 ..."/>
		<jointvel name = "qvel" joint = "leg1_yaw leg1_pitch1 ..."/>
		<accelerometer name="imu_acc" site = "torso_site"/>
		<gyro name = "imu_gyro" site = "torso_site"/>

	</sensor>



  <worldbody>
    <!-- ground -->
    <geom name = "floor" type = "plane" size = "5 5 0.1" material = "matplane" pos = "0 0 0" rgba = "0.8 0.9 0.8 1" condim = "3" friction = "1 0.5 0.01"/>

    <!-- light -->
    <light name = "top_light" pos = "0 0 2" dir = "0 0 -1" diffuse = "1 1 1" specular = "0.1 0.1 0.1" cutoff = "100" exponent = "1"/>

    <!-- torso -->
    <body name = "torso" pos = "0 0 0.28">
      <geom name = "torso_geom" type = "box" size = "0.18 0.10 0.03" material = "mattorso" condim = "3"/>
      <joint name = "root_free" type = "free"/>

      <!-- ============ LEFT SIDE LEGS ============ -->

      <!-- Front-left leg (leg1) -->
      <body name = "leg1_yaw_body" pos = "0.18 0.12 0.0">
        <joint name = "leg1_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg1_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg1_femur_body" pos = "0.05 0 0">
          <joint name = "leg1_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg1_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg1_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg1_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg1_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg1_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

      <!-- Mid-left leg (leg2) -->
      <body name = "leg2_yaw_body" pos = "0.0 0.14 0.0">
        <joint name = "leg2_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg2_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg2_femur_body" pos = "0.05 0 0">
          <joint name = "leg2_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg2_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg2_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg2_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg2_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg2_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

      <!-- Rear-left leg (leg3) -->
      <body name = "leg3_yaw_body" pos = "-0.18 0.12 0.0">
        <joint name = "leg3_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg3_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg3_femur_body" pos = "0.05 0 0">
          <joint name = "leg3_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg3_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg3_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg3_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg3_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg3_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

      <!-- ============ RIGHT SIDE LEGS ============ -->

      <!-- Front-right leg (leg4) -->
      <body name = "leg4_yaw_body" pos = "0.18 -0.12 0.0">
        <joint name = "leg4_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg4_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg4_femur_body" pos = "0.05 0 0">
          <joint name = "leg4_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg4_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg4_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg4_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg4_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg4_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

      <!-- Mid-right leg (leg5) -->
      <body name = "leg5_yaw_body" pos = "0.0 -0.14 0.0">
        <joint name = "leg5_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg5_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg5_femur_body" pos = "0.05 0 0">
          <joint name = "leg5_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg5_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg5_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg5_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg5_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg5_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

      <!-- Rear-right leg (leg6) -->
      <body name = "leg6_yaw_body" pos = "-0.18 -0.12 0.0">
        <joint name = "leg6_yaw" type = "hinge" axis = "0 0 1" range = "-45 45"/>
        <geom name = "leg6_coxa" material = "matleg" fromto = "0 0 0 0.05 0 0" size = "0.02"/>
        <body name = "leg6_femur_body" pos = "0.05 0 0">
          <joint name = "leg6_pitch1" type = "hinge" axis = "0 1 0" range = "-45 45"/>
          <geom name = "leg6_femur" material = "matleg" fromto = "0 0 0 0 0 -0.12" size = "0.02"/>
          <body name = "leg6_tibia_body" pos = "0 0 -0.12">
            <joint name = "leg6_pitch2" type = "hinge" axis = "0 1 0" range = "-70 70"/>
            <geom name = "leg6_tibia" material = "matleg" fromto = "0 0 0 0 0 -0.13" size = "0.018"/>
            <site name = "leg6_foot" pos = "0 0 -0.13" size = "0.02" type = "sphere"/>
          </body>
        </body>
      </body>

    </body>
  </worldbody>

  <actuator>
    <!-- Left side -->
    <position name = "m_leg1_yaw" joint = "leg1_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg1_p1" joint = "leg1_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg1_p2" joint = "leg1_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>

    <position name = "m_leg2_yaw" joint = "leg2_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg2_p1" joint = "leg2_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg2_p2" joint = "leg2_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>

    <position name = "m_leg3_yaw" joint = "leg3_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg3_p1" joint = "leg3_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg3_p2" joint = "leg3_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>

    <!-- Right side -->
    <position name = "m_leg4_yaw" joint = "leg4_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg4_p1" joint = "leg4_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg4_p2" joint = "leg4_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>

    <position name = "m_leg5_yaw" joint = "leg5_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg5_p1" joint = "leg5_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg5_p2" joint = "leg5_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>

    <position name = "m_leg6_yaw" joint = "leg6_yaw"   kp = "60" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg6_p1" joint = "leg6_pitch1" kp = "80" ctrlrange = "-0.7 0.7"/>
    <position name = "m_leg6_p2" joint = "leg6_pitch2" kp = "80" ctrlrange = "-1.0 1.0"/>
  </actuator>
</mujoco>
